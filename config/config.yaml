# securipaperbot/config/config.yaml

# 下载设置
download:
  path: "./papers"
  max_retries: 3
  retry_delay: 3  # 增加重试延迟到3秒
  max_concurrent_downloads: 1  # 关闭并发，使用单线程
  batch_size: 1  # 每次只处理1个
  cleanup_days: 30
  user_agent: "SecuriPaperBot/1.0"
  timeout: 90  # 增加超时时间到90秒
  connection_pool_size: 5  # 减少连接池大小
  keep_alive_timeout: 60  # 增加保活时间
  
  # 智能并发控制设置
  smart_concurrent:
    enabled: false  # 默认关闭，可手动开启
    min_concurrent: 1    # 最小并发数
    max_concurrent: 4    # 最大并发数
    initial_concurrent: 2  # 初始并发数
    failure_threshold: 0.3  # 失败率阈值
    slow_threshold: 10.0    # 慢下载阈值(秒)
    adjustment_interval: 5   # 调整评估周期
    rest_interval: 1.0      # 请求间隔(秒)

# 分析设置
analysis:
  depth: "detailed"  # basic, detailed, comprehensive
  parallel_processing: true
  cache_results: true
  quality_threshold: 0.8
  ignore_patterns:
    - "*/test/*"
    - "*/docs/*"
    - "*/examples/*"
  file_types:
    - ".py"
    - ".js"
    - ".java"
    - ".cpp"
    - ".go"

# 安全设置
security:
  verify_ssl: true
  rate_limit: 120  # 增加每分钟请求数到120
  timeout: 45  # 增加超时时间
  allowed_domains:
    - "dl.acm.org"
    - "ieeexplore.ieee.org"
    - "www.ndss-symposium.org"
    - "www.usenix.org"

# 输出设置
output:
  format: "markdown"  # markdown, html, pdf
  path: "./output"
  compress: false
  structure:
    - "summary"
    - "analysis"
    - "quality_report"
    - "security_report"
    - "recommendations"

# 日志设置
logging:
  level: "INFO"
  file: "logs/securipaperbot.log"
  max_size: 10485760  # 10MB
  backup_count: 5
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  handlers:
    - "console"
    - "file"

# 缓存设置
cache:
  enabled: true
  path: "./cache"
  max_size: 1073741824  # 1GB
  ttl: 86400  # 24 hours
  cleanup_interval: 3600  # 1 hour

# 会议设置
conferences:
  ccs:
    name: "ACM CCS"
    base_url: "https://dl.acm.org/doi/proceedings/10.1145/"
    parser: "acm_parser"
  sp:
    name: "IEEE S&P"
    base_url: "https://ieeexplore.ieee.org/xpl/conhome/"
    parser: "ieee_parser"
  ndss:
    name: "NDSS"
    base_url: "https://www.ndss-symposium.org/"
    parser: "ndss_parser"
  usenix:
    name: "USENIX Security"
    base_url: "https://www.usenix.org/conference/"
    parser: "usenix_parser"

# API设置
apis:
  github:
    base_url: "https://api.github.com"
    timeout: 30
    rate_limit: 5000
  openai:
    model: "gpt-4"
    temperature: 0.3
    max_tokens: 2000
  anthropic:
    model: "claude-3-5-sonnet-20241022"
    max_tokens: 4096
    temperature: 0.0